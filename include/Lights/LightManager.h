#ifndef LIGHTMANAGER_H_
#define LIGHTMANAGER_H_
//----------------------------------------------------------------------------------------------------------------------
/// @brief A class to manage all the lights in our scene
/// @author Toby Gilbert
/// @date 30/05/15
//----------------------------------------------------------------------------------------------------------------------

#include <optixu/optixu_math_namespace.h>
#include <QWidget>
#include <QDockWidget>

using namespace optix;

class LightManager : public QDockWidget{
//    Q_OBJECT
public:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief returns an instance of our singleton class
    //----------------------------------------------------------------------------------------------------------------------
    static LightManager *getInstance(QWidget *parent = 0);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief A structure to hold information about our parallelogram area lights
    //----------------------------------------------------------------------------------------------------------------------
    struct ParallelogramLight{
        float3 corner;
        float3 v1, v2;
        float3 normal;
        float3 emission;
        bool textured;
    };
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Destructor
    //----------------------------------------------------------------------------------------------------------------------
    ~LightManager();
    //----------------------------------------------------------------------------------------------------------------------
protected:

private:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief Constructor
    //----------------------------------------------------------------------------------------------------------------------
    LightManager(QWidget *parent = 0);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief remove any access to copy constructor as we dont want copies of our singleton class
    //----------------------------------------------------------------------------------------------------------------------
    LightManager(LightManager const&){}
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief remove access to our assignment operator as we dont want copies of our signton class
    //----------------------------------------------------------------------------------------------------------------------
    LightManager& operator=(LightManager const&){}
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a pointer to our instance of our singleton class
    //----------------------------------------------------------------------------------------------------------------------
    static LightManager* m_instance;
    //----------------------------------------------------------------------------------------------------------------------

};

#endif
