#ifndef MESHDOCKWIDGET_H
#define MESHDOCKWIDGET_H

/// @class MeshWidget
/// @date 3/02/14
/// @author Declan Russell
/// @brief This class is an extention of QDockWidget that comes with managment of our MeshWidgets
/// @todo Add functionality to the combo box so it changes the selected mesh to the one you want.
/// @todo Link up all the signals of the the mesh widget to something usful in our scene

#include <QDockWidget>
#include <QGridLayout>
#include <QSpacerItem>
#include <QPushButton>
#include <QGroupBox>
#include <QComboBox>
#include <QLabel>
#include <map>

#include "meshwidget.h"

class MeshDockWidget : public QDockWidget
{
    Q_OBJECT
public:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our default constructor
    //----------------------------------------------------------------------------------------------------------------------
    explicit MeshDockWidget(QWidget *parent = 0);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our destructor
    //----------------------------------------------------------------------------------------------------------------------
    ~MeshDockWidget();
    //----------------------------------------------------------------------------------------------------------------------

signals:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a signal to add a model to our scene
    /// @param _id - the id of our mesh widget
    /// @param _path - the path to our mesh
    //----------------------------------------------------------------------------------------------------------------------
    void signalImportModel(int _id, std::string _path);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a signal to transform a model in our scene
    //----------------------------------------------------------------------------------------------------------------------
    void signalMeshTransform(int _id, float _transX,float _transY,float _transZ,float _rotX,float _rotY,float _rotZ,float _scaleX,float _scaleY,float _scaleZ);
    //----------------------------------------------------------------------------------------------------------------------
public slots:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief adds a mesh widget to our dock widget
    //----------------------------------------------------------------------------------------------------------------------
    void addMeshWidget();
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a slot to change the currently shown widget
    /// @param _id the id of the widget that we want to show
    //----------------------------------------------------------------------------------------------------------------------
    void changeCurrentWidget(int _id);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a slot to be called by our mesh widget to import a model to our scene
    /// @param _id - the id of our mesh widget
    /// @param _path - the path to our mesh
    //----------------------------------------------------------------------------------------------------------------------
    void importModel(int _id, std::string _path);
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a slot to be called by our mesh widget to transform a model in our scene
    /// @brieft this slot simply calls signalMeshTransform
    //----------------------------------------------------------------------------------------------------------------------
    void meshTransform(int _id, float _transX,float _transY,float _transZ,float _rotX,float _rotY,float _rotZ,float _scaleX,float _scaleY,float _scaleZ);
    //----------------------------------------------------------------------------------------------------------------------
private:
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a pointer to the current shown widget
    //----------------------------------------------------------------------------------------------------------------------
    MeshWidget *m_currentShownWidget;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief mesh widget count to be incremented to give our widgets unique Id's
    //----------------------------------------------------------------------------------------------------------------------
    int m_meshCount;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief a map to store all our mesh widgets
    //----------------------------------------------------------------------------------------------------------------------
    std::map<int,MeshWidget*> m_meshWidgets;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our add mesh button
    //----------------------------------------------------------------------------------------------------------------------
    QPushButton *m_addMeshBtn;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our widget layout
    //----------------------------------------------------------------------------------------------------------------------
    QGridLayout *m_meshDockGridLayout;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our widget spacer
    //----------------------------------------------------------------------------------------------------------------------
    QSpacerItem *m_meshDockSpacer;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our dock group box
    //----------------------------------------------------------------------------------------------------------------------
    QGroupBox *m_meshDockGroupBox;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our combo box so we can access our different mesh's
    //----------------------------------------------------------------------------------------------------------------------
    QComboBox *m_meshDockComboBox;
    //----------------------------------------------------------------------------------------------------------------------
    /// @brief our combod box label
    //----------------------------------------------------------------------------------------------------------------------
    QLabel *m_meshSelectLabel;
    //----------------------------------------------------------------------------------------------------------------------

};

#endif // MESHDOCKWIDGET_H
