#ifndef MATERIALLIBRARY_H
#define MATERIALLIBRARY_H

/// @class MaterialLibrary
/// @author Declan Russell
/// @date 05/03/15
/// @brief A wigdet to store and allow the user to select between
/// @brief optix materials availible in out program.
/// @brief This is a singleton class as we want all instances of our
/// @brief library to be the same.

#include <QWidget>
#include <QPushButton>
#include <QGridLayout>
#include <QSpacerItem>
#include "UI/AbstractMaterialWidget.h"

class MaterialLibrary : public QWidget
{
    Q_OBJECT
public:
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief get an instance of our material library
    //------------------------------------------------------------------------------------------------------------------------------------
    static MaterialLibrary *getInstance();
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief default destructor. Deals with our garbage collection
    //------------------------------------------------------------------------------------------------------------------------------------
    ~MaterialLibrary();
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief add a material to our library
    //------------------------------------------------------------------------------------------------------------------------------------
    void addMaterialToLibrary(AbstractMaterialWidget *_material);
    //------------------------------------------------------------------------------------------------------------------------------------
signals:
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief a signal called if a material has been selected
    //------------------------------------------------------------------------------------------------------------------------------------
    void signalMaterialSelected(AbstractMaterialWidget *);
    //------------------------------------------------------------------------------------------------------------------------------------
public slots:
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief a slot to be notified if a material has been selected
    //------------------------------------------------------------------------------------------------------------------------------------
    void materialSelected();
    //------------------------------------------------------------------------------------------------------------------------------------
private:
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief pointer to the instance of our singleton class
    //------------------------------------------------------------------------------------------------------------------------------------
    static MaterialLibrary* m_instance;
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief defalut constructor
    //------------------------------------------------------------------------------------------------------------------------------------
    explicit MaterialLibrary(QWidget *parent = 0);
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief member to store all the types of materials that we have
    //------------------------------------------------------------------------------------------------------------------------------------
    std::vector<AbstractMaterialWidget *> m_materials;
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief an array of all our buttons in our widget
    //------------------------------------------------------------------------------------------------------------------------------------
    std::vector<QPushButton *> m_buttons;
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief the layout of our wigdet
    //------------------------------------------------------------------------------------------------------------------------------------
    QGridLayout *m_widgetLayout;
    //------------------------------------------------------------------------------------------------------------------------------------
    /// @brief spacer for our widget
    //------------------------------------------------------------------------------------------------------------------------------------
    QSpacerItem *m_widgetSpacer;
    //------------------------------------------------------------------------------------------------------------------------------------
};

#endif // MATERIALLIBRARY_H
